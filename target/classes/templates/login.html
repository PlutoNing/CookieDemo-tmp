<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<META HTTP-EQUIV="pragma" CONTENT="no-cache">
<META HTTP-EQUIV="Cache-Control" CONTENT="no-store, must-revalidate">
	<title>系统登录</title>
<meta name="description" content="登录">
<style>
*{padding:0;margin:0;}
</style>
</head>
<body>
<link rel="stylesheet" type="text/css" href="/css/login/demo.css">
<iframe src="http://www.youhutong.com/demo/top.php" width="100%" height="100%" marginwidth="0" marginheight="0" frameborder="no" border="0"></iframe>
<!--
<h3 style="height: 130px"><img src="/images/logo_lab.png" alt=""></a></h3>
-->

<div style="text-align:center; font-size:20px; font-weight:bold; margin-bottom:30px;">系统登录</div>

<div id="main">



<!-- 演示区 start -->




<script src="/js/login/jquery.js"></script>

<link rel="stylesheet" href="/css/login/style.css">
<link rel="stylesheet" href="/css/login/iconfont.css">


<div class="login-box" style="margin-top:50px;">
	<div class="box-con tran">
		<!-- 登录 start -->
<!--		<div>
			&lt;!&ndash;/*@thymesVar id="error" type=""*/&ndash;&gt;
			<span style="font-size: 12px;color: red" th:text="${error}" aria-describedby="basic-addon0"></span>
		</div>-->

		<div class="login-con f-l">
			<span th:if="${error} eq 2">
				<span style="font-size: 12px;color: red">用户名重复，请重新注册</span>
			</span>
			<span th:if="${error} eq 3">
				<span style="font-size: 12px;color: red">用户名不能为空，请重新注册</span>
			</span>
			<span th:if="${error} eq 4">
				<span style="font-size: 12px;color: green">用户注册成功，请登录</span>
			</span>
			<span th:if="${error} eq 5">
				<span style="font-size: 12px;color: red">手机号不能为空，请重新注册</span>
			</span>
			<form action="/login" method="post" onchange="HashFunction()">
				<div class="form-group">
					<input type="text" name="username" placeholder="用户名">
					<span class="error-notic">邮箱/手机号码不正确</span>
				</div>
				<div class="form-group">
					<input id="raw_password" type="password" placeholder="密码">
					<span th:if="${error} eq 1">
						<span style="font-size: 12px;color: red">用户名或密码不正确，请重新登录！</span>
					</span>
					<span class="error-notic">密码不正确</span>
				</div>
				<input id="password" type="hidden" name="password">
				<div class="form-group">
						<input type="submit" value="登录">
						<img class="loading" src="/images/login/loading.gif" style="display:none">
				</div>
			</form>
			<div class="from-line"></div>

			<div class="form-group">
				<a href="javascript:;" class="move-signup a-tag tran blue-border">注册帐号<i class="iconfont tran">&#xe606;</i></a>
			</div>
	<!--		<div class="form-group">
				<a href="#" onclick='window.location.href="/login/qq"' class="move-syc a-tag tran blue-border">使用QQ登录 <i class="iconfont tran">&#xe606;</i></a>
			</div>
			<div class="form-group">
				<a href="#" onclick='window.location.href="/wxlogin"' class="move-syc a-tag tran blue-border">使用微信登录<i class="iconfont tran">&#xe606;</i></a>
			</div>-->
		</div>
		<!-- 登录 end -->



		<!-- 注册 start -->
		<div class="signup f-l">
			<!-- 邮箱注册start -->
			<form action="/registerSubmit" method="post" onchange="HashFunction2()">
				<div class="form-group">
					<div class="form-group">
						<input type="text" name="username" placeholder="用户名">
					</div>
					<span class="error-notic">邮箱格式不正确</span>
				</div>
				<div class="signup-email">
					<div class="form-group">
						<input id="raw_password2" type="password" placeholder="密码（字母、数字，至少6位）" onblur="verify.PasswordLenght(this)">
						<span class="error-notic">密码长度不够</span>
					</div>
					<div class="form-group">
						<input type="text" name="phone" placeholder="手机号" onblur="verify.verifyMobile(this)">
						<span class="error-notic">手机号格式不正确</span>

					</div>
					<div class="form-group">
						<input type="text" name="email" placeholder="邮箱">
					</div>
					<input id="password2" name="password2" type="hidden">
					<div class="form-group">
						<input type="submit" value="注册">

					</div>
					<p class="view-clause">点击注册，即同意我们的 <a href="#">用户隐私条款</a></p>
				</div>
			</form>
			<!-- 邮箱注册end -->

			<!-- 手机号码注册end -->
			<div class="from-line"></div>
			<div class="form-group">
				<a href="javascript:;" class="move-login a-tag tran blue-border">已有帐号？登录<i class="iconfont tran">&#xe606;</i></a>
			</div>

		</div>
		<!-- 注册 end -->






		<!-- 第三方登录 start -->
		<div class="other-way f-l">
			<div class="form-group">
				<button type="submit" class="tran pr">
					<a href="javascript:;" class="tran">QQ帐号登录</a>
					<img class="loading" src="images/login/loading.gif">
				</button>
			</div>
			<div class="form-group">
				<button type="submit" class="tran pr">
					<a href="javascript:;" class="tran">新浪微博帐号登录</a>
					<img class="loading" src="images/login/loading.gif">
				</button>
			</div>
			<div class="form-group">
				<button type="submit" class="tran pr">
					<a href="javascript:;" class="tran">微信帐号登录</a>
					<img class="loading" src="images/login/loading.gif">
				</button>
			</div>
			<div class="form-group">
				<button type="submit" class="tran pr">
					<a href="javascript:;" class="tran">网易帐号登录</a>
					<img class="loading" src="images/login/loading.gif">
				</button>
			</div>
			<div class="from-line"></div>

			<div class="form-group">
				<a href="javascript:;" class="move-signup a-tag tran blue-border">还没有帐号？免费注册<i class="iconfont tran">&#xe606;</i></a>
			</div>
			<div class="form-group">
				<a href="javascript:;" class="move-login a-tag tran">已有帐号？登录<i class="iconfont tran">&#xe606;</i></a>
			</div>
		</div>
		<!-- 第三方登录 end -->





		<!-- 密码重置 start -->
		<div class="mimachongzhi f-l">
			<div class="form-group">
				<input type="text" placeholder="请输入您的邮箱地址">
				<span class="error-notic">邮箱格式不正确</span>
			</div>
			<div class="form-group">
				<button type="submit" class="tran pr">
					<a href="javascript:;" class="tran">发送重置密码邮件</a>
					<img class="loading" src="images/login/loading.gif">
				</button>
			</div>
			<div class="from-line"></div>
			<div class="form-group">
				<a href="javascript:;" class="move-signup	a-tag tran blue-border">还没有帐号？免费注册<i class="iconfont tran">&#xe606;</i></a>
			</div>
			<div class="form-group">
				<a href="javascript:;" class="move-login a-tag tran">已有帐号？登录<i class="iconfont tran">&#xe606;</i></a>
			</div>
		</div>
		<!-- 密码重置 end -->




		<!-- 手机注册成功添补信息 start -->
		<div class="mobile-success f-l">
			<p>手机号 <span>186****7580</span> 验证成功</p>
			<p>请完善您的账号信息，您也可以<a href="#">绑定现有账号</a></p>
			<div class="form-group">
				<input type="text" placeholder="邮箱" class="email-mobile" onblur="verify.verifyEmail(this)"/>
				<span class="error-notic">邮箱格式不正确</span>
			</div>
			<div class="form-group">
				<input type="text" placeholder="用户呢称">
			</div>
			<div class="form-group">
				<input type="password" placeholder="密码（字母、数字，至少6位）" onblur="verify.PasswordLenght(this)"/>
				<span class="error-notic">密码长度不够</span>
			</div>

			<div class="form-group">
				<button type="submit" class="tran pr">
					<a href="javascript:;" class="tran">注册</a>
					<img class="loading" src="images/login/loading.gif">
				</button>
			</div>
			<p class="view-clause">点击注册，即同意我们的 <a href="#">用户隐私条款</a></p>
		</div>
		<!-- 手机注册成功添补信息 end -->

	</div>
</div>

<script>
var _handle='';//储存电话是否填写正确
$(function(){
	$(".signup-form input").on("focus",function(){
		$(this).parent().addClass("border");
	});
	$(".signup-form input").on("blur",function(){
		$(this).parent().removeClass("border");
	})
	//注册方式切换
	$(".signup-select").on("click",function(){
		var _text=$(this).text();
		var $_input=$(this).prev();
		$_input.val('');
		if(_text=="手机注册"){
			$(".signup-tel").fadeIn(200);
			$(".signup-email").fadeOut(180);
			$(this).text("邮箱注册");
			$_input.attr("placeholder","手机号码");
			$_input.attr("onblur","verify.verifyMobile(this)");
			$(this).parents(".form-group").find(".error-notic").text("手机号码格式不正确")
		}
		if(_text=="邮箱注册"){
			$(".signup-tel").fadeOut(180);
			$(".signup-email").fadeIn(200);
			$(this).text("手机注册");
			$_input.attr("placeholder","邮箱");
			$_input.attr("onblur","verify.verifyEmail(this)");
			$(this).parents(".form-group").find(".error-notic").text("邮箱格式不正确")
		}
	});
	//步骤切换
	var _boxCon=$(".box-con");
	$(".move-login").on("click",function(){
		$(_boxCon).css({
			'marginLeft':0
		})
	});
	$(".move-signup").on("click",function(){
		$(_boxCon).css({
			'marginLeft':-320
		})
	});
	$(".move-other").on("click",function(){
		$(_boxCon).css({
			'marginLeft':-640
		})
	});

	$(".move-syc").on("click",function(){
		$(_boxCon).css({
		})
	});
	$(".move-reset").on("click",function(){
		$(_boxCon).css({
			'marginLeft':-960
		})
	});
	$("body").on("click",".move-addinf",function(){
		$(_boxCon).css({
			'marginLeft':-1280
		})
	});
	//获取短信验证码
	var messageVerify=function (){
		$(".get-message").on("click",function(){
			if(_handle){
				$("#message-inf").fadeIn(100)
				$(this).html('<a href="javascript:;">下一步</a><img class="loading" src="../images/loading.gif">').addClass("move-addinf");
			}
		});
	}();
});
//表单验证
function showNotic(_this){
	$(_this).parents(".form-group").find(".error-notic").fadeIn(100);
    $(_this).focus();
}
//错误提示显示
function hideNotic(_this){
	$(_this).parents(".form-group").find(".error-notic").fadeOut(100);
}
//错误提示隐藏
var verify={
	verifyEmail:function(_this){
		var validateReg = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
		var _value=$(_this).val();
    	if(!validateReg.test(_value)){
    		showNotic(_this)
    	}else{
    		hideNotic(_this)
    	}
	},
	//验证邮箱
	verifyMobile:function(_this){
		var validateReg = /^((\+?86)|(\(\+86\)))?1\d{10}$/;
		var _value=$(_this).val();
    	if(!validateReg.test(_value)){
    		showNotic(_this);
    		_handle=false;
    	}else{
    		hideNotic(_this);
    		_handle=true;
    	}
    	return _handle
	},
	//验证手机号码
	PasswordLenght:function(_this){
		var _length=$(_this).val().length;
		if(_length<6){
			showNotic(_this)
		}else{
    		hideNotic(_this)
    	}
	},
	//验证设置密码长度
	VerifyCount:function(_this){
		var _count="123456";
		var _value=$(_this).val();
		alert(_value);
		console.log(_value)
		if(_value!=_count){
			showNotic(_this)
		}else{
			hideNotic(_this)
		}
	}
	//验证验证码
}
</script>


<!-- 演示区 end -->


<script type="text/javascript" src="/js/login/core.js"></script>
<script type="text/javascript" src="/js/login/cipher-core.js"></script>
<script type="text/javascript" src="/js/login/sha256.js"></script>
<script>
	function HashFunction(){
		var psw=document.getElementById("raw_password").value;
		var hash = CryptoJS.SHA256(psw).toString();
		document.getElementById("password").value = hash;
		console.log("hash:" + hash);
	}
</script>

<script>
	function HashFunction2(){
		var psw=document.getElementById("raw_password2").value;
		var hash = CryptoJS.SHA256(psw).toString();
		document.getElementById("password2").value = hash;
		console.log("hash:" + hash);
	}
</script>


</div>
<iframe src="http://www.youhutong.com/demo/footer.php" width="100%" height="100%" marginwidth="0" marginheight="0" frameborder="no" border="0"></iframe>
</body>
</html>